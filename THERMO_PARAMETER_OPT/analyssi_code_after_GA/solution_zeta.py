# save_row_to_params.py

def write_params_from_row(row_values, output_file="manual_opt_param.txt"):
    """
    Convert a single row of 100 comma-separated values into formatted parameters
    and save them in the given species order.
    """

    # Species order (each has 5 params, Low then High)
    species_order = [
        "AR_Low", "AR_High",
        "H2_L", "H2_H",
        "O_L", "O_H",
        "O2_L", "O2_H",
        "H2O_L", "H2O_H",
        "CO_L", "CO_H",
        "C_L", "C_H",
        "HCO_L", "HCO_H",
        "OH*_L", "OH*_H",
        "H_L", "H_H"
    ]

    # Clean and split row into floats
    values = [float(v.strip()) for v in row_values.strip().split(",") if v.strip() != ""]
    
    if len(values) != len(species_order) * 5:
        raise ValueError(f"Expected {len(species_order)*5} values, got {len(values)}")

    with open(output_file, "w") as f:
        for i, sp in enumerate(species_order):
            params = values[i*5:(i+1)*5]
            for j, p in enumerate(params, start=1):
                f.write(f"{sp}:a{j}=\t{p}\n")

    print(f"✅ Parameters written to {output_file}")


if __name__ == "__main__":
    # ✍️ Paste your row of 100 comma-separated values here
    row = """-2.6343825881200003,-0.8710792205755145,5.056229412451078,-14.414146223539309,-9.345873896579823,
    1.5312803912553064,-5.395404332285321,-24.568896150748774,4.7177264899109375,-4.264424379713764,
    1.1799403117499008,-5.698269549845407,153.08976171751223,-998.7630137193642,2340.022239341526,
    6.2342121268546675,0.667978942963677,121.18668167931487,55.78544492592196,-2619.0760321202483,
    -3.251521049473064,4.560801082594348,-218.61204057522815,249.23111342087532,97.07940942667403,
    -0.895830086520472,-0.48431179602777386,-4.870018027594603,-0.3366461270769185,24.988205380620542,
    1.0490954444803358,4.066073578095733,-477.2172203753993,1480.3253401001919,-2586.5814000783366,
    -6.3270088392140735,-62.091311384505524,188.88943763036312,-417.04563474829763,157.12244328532628,
    2.6509038874696804,-0.8750218196458684,-10.937719723003823,-4.091051471911575,-0.11044530599434507,
    4.8160891632539045,-1.4160277994988457,5.433352634572296,5.2712578850201295,-9.414217651362282,
    1.9573609408683459,0.5636063176019162,-18.138127956317287,-8.912685539199927,-1.0602785266318338,
    -1.4352864855733316,1.7788942390903462,-0.9801462817864097,-3.672538516851621,30.05630905589036,
    -4.709039613165395,4.270509842773533,-11.558113421475145,-39.515789021790724,-6.478955577797347,
    3.0177107675135724,-20.7502807987716,-11.559684371038372,0.5279460791769194,11.734588585100102,
    10.907710768315654,101.48463721770989,-160.15637392955824,-87.5905574326346,-21.089787258624316,
    -6.2462881639329675,-26.14157770767165,-163.9966168295209,-18.741918962092665,51.19427000789305,
    5.561095937606609,4.380285174939344,-33.33338249387886,-10.072965316027274,-1.2248950836351253,
    -4.468451760112262,19.910259908116288,2.66173773813725,59.755608174958304,30.46327731330145,
    -5.960767157299357,9.141205739850175,-22.948781859084363,-58.50208254712997,-11.721813794004227,
    -2.462764387359993,2.049096321445643,6.690412219042681,-1.2463722436323643,5.388151708802371,"""

    write_params_from_row(row)

